# Kanban App - Kanban Board
# Usage: Track project tasks across workflow stages.
# Conventions:
#   - IDs are sequential per column, prefixed: B=backlog, T=todo, P=progress, R=review, D=done
#   - Move tasks between columns by cut/pasting the block
#   - Priority: critical > high > medium > low
#   - Tags map to project areas (see `tags` section below)

project: kanban
updated: 2026-02-17

# ── Tag definitions ──────────────────────────────────────────────
tags:
  frontend:   "SvelteKit UI, components, pages"
  backend:    "API routes, server logic"
  database:   "Drizzle schema, migrations, queries"
  spec:       "Spec conversion / creation"
  infra:      "Docker, deployment, CI/CD"
  dx:         "Developer experience, tooling, scripts"

# ── Columns ──────────────────────────────────────────────────────

backlog:
  # Items identified but not yet prioritized for work

  - id: B-3
    title: "Set up Docker and Docker Compose"
    description: |
      Create Dockerfile and docker-compose.yml for local development.
      Services: PostgreSQL (with pgvector if needed) + SvelteKit app.
      Follow patterns from tech-containerization.md spec.
    priority: medium
    tags: [infra]
    created: 2026-02-15
    links:
      - specs/tech-containerization.md

  - id: B-11
    title: Add postinstall svelte-kit sync and lock file tracking
    description: |
      Configure a postinstall/prepare script that runs 'npx svelte-kit sync' after dependency installation to auto-generate .svelte-kit/tsconfig.json. Ensure deno.lock is committed for reproducible builds. Add 'deno task check' (svelte-check) to CI-ready scripts. Discovered during B-4: svelte-kit sync must be run via npx (not deno run -A npm:svelte-kit), and .svelte-kit/ is required for TypeScript path resolution.
    priority: medium
    tags: [infra, dx]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Add postinstall/prepare script to package.json for svelte-kit sync
        done: false
      - text: Commit deno.lock for reproducible dependency resolution
        done: false
      - text: Verify deno task check works after sync
        done: false
    links:
      - specs/frontend-build-tooling.md

  - id: B-16
    title: Add sidebar keyboard shortcut hint and mobile sheet overlay
    description: |
      The shadcn-svelte sidebar supports Cmd+B toggle (built-in) and mobile sheet overlay (built-in via collapsible='offcanvas'). Add a visual keyboard shortcut hint to the sidebar footer showing 'Cmd+B' and verify the mobile sheet overlay works correctly on small screens. Consider adding a tooltip or subtle text indicator.
    priority: low
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Add keyboard shortcut visual hint to sidebar footer
        done: false
      - text: Test mobile sheet overlay behavior
        done: false
      - text: Add aria-labels for accessibility
        done: false
    links:
      - specs/frontend-components.md

  - id: B-20
    title: Add breadcrumb segments for nested board pages
    description: |
      The Navbar breadcrumb currently shows 'Boards > Board Name' but doesn't distinguish between the board view and sub-pages like settings. When on /boards/[boardId]/settings, the breadcrumb should show 'Boards > Board Name > Settings'. This requires the Navbar to accept an optional breadcrumb segments prop or detect the current route path.
    priority: low
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Pass route-aware breadcrumb data to Navbar
        done: false
      - text: Render additional breadcrumb segments for settings and other sub-pages
        done: false
    links:
      - specs/frontend-pages.md

  - id: B-27
    title: Add Markdown rendering to card comments
    description: |
      Card descriptions now support Markdown via MarkdownRenderer, but comments still display as plain text. Reuse the MarkdownRenderer component in CommentItem.svelte to render comment content as Markdown. Also add a Write/Preview tab interface to the comment compose/edit textareas in CommentList.svelte, matching the pattern used in CardDetail's description editor.
    priority: low
    tags: [frontend]
    assignee: ""
    created: 2026-02-17
    subtasks:
      - text: Integrate MarkdownRenderer into CommentItem for read-mode rendering
        done: false
      - text: Add Write/Preview tabs to new comment compose textarea
        done: false
      - text: Add Write/Preview tabs to comment edit textarea
        done: false
      - text: Update comments spec to reflect Markdown support
        done: false
    links:
      - specs/cards.md
      - specs/frontend-editor-diff.md

  - id: B-28
    title: Add seed script --reset flag and additional sample data profiles
    description: |
      Enhance scripts/seed.ts with: (1) a --reset flag that only truncates without re-seeding, useful for clearing dev data; (2) a --minimal flag that creates just 1 user, 1 board, and 1 column for quick testing; (3) a second sample board (e.g., 'Bug Tracker') so the boards list page shows multiple boards. Currently the seed only creates a single board, which doesn't exercise the multi-board UI.
    priority: low
    tags: [backend, dx]
    assignee: ""
    created: 2026-02-17
    subtasks:
      - text: Add --reset flag to truncate-only
        done: false
      - text: Add --minimal flag for lightweight seed
        done: false
      - text: Add a second sample board with different column layout
        done: false
    links:
      - specs/tech-database.md
      - scripts/seed.ts

  - id: B-29
    title: Fix self-closing HTML tag warnings in Svelte components
    priority: low
    tags: [frontend, dx]
    assignee: ""
    created: 2026-02-17

  - id: B-31
    title: Add .env file generation or svelte-check env stub for zero-error CI
    description: |
      After B-12, svelte-check reports 1 error: DATABASE_URL not exported from $env/static/private. This happens because SvelteKit generates $env types from actual env vars, which are not available during CI or fresh checkout. Options: (1) Add a stub .env to .env.example and copy in CI, (2) Use $env/dynamic/private instead with runtime validation, (3) Add a pre-check script that ensures .env exists. Goal: deno task check exits 0 without requiring a running database or manual setup.
    priority: medium
    tags: [dx, infra]
    assignee: ""
    created: 2026-02-17
    subtasks:
      - text: "Evaluate approaches: stub .env, dynamic env, or pre-check script"
        done: false
      - text: Implement chosen approach
        done: false
      - text: Verify deno task check exits 0 in clean checkout
        done: false
    links:
      - specs/frontend-build-tooling.md
      - src/lib/db/index.ts

  - id: B-32
    title: Update frontend-pages spec card detail code snippet to match implementation
    priority: low
    tags: [spec, dx]
    assignee: ""
    created: 2026-02-17





todo:
  # Tasks committed for near-term work

  # ── Tech Stack Specs ───────────────────────────────────────────

in_progress:

review:

done:

  - id: D-1
    completed: 2026-02-15
    title: "Convert frontend-overview.md — React to Deno + SvelteKit"
    description: |
      Rewrite the frontend overview spec replacing the React 18 / Vite /
      Zustand / React Router stack description with the SvelteKit target
      stack: Deno runtime, SvelteKit 2, Svelte 5 (runes), Tailwind CSS 4,
      shadcn-svelte, bits-ui, Zod 4. Remove references to dual UI systems
      (legacy/new) — this is a greenfield SvelteKit app.
    priority: high
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-overview.md
      - specs/tech-stack-overview.md

  - id: D-2
    completed: 2026-02-15
    title: "Convert frontend-styling.md — Tailwind to Tailwind CSS 4"
    description: |
      Rewrite styling spec. Remove dual design system (legacy/new).
      Update to Tailwind CSS 4 with Vite plugin, tailwind-merge,
      tailwind-variants, tw-animate-css. Define single design token
      system with dark mode via mode-watcher.
    priority: high
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-styling.md
      - specs/tech-frontend-ui.md

  - id: D-3
    completed: 2026-02-15
    title: "Convert frontend-routing.md — React Router to SvelteKit routing"
    description: |
      Rewrite the routing spec from React Router v6 routes to SvelteKit
      file-based routing. Map each route to a +page.svelte / +layout.svelte
      structure. Remove legacy vs new UI route split — single routing tree.
    priority: high
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-routing.md

  - id: D-4
    completed: 2026-02-15
    title: "Convert frontend-build-tooling.md — Vite React to Vite + Deno + SvelteKit"
    description: |
      Rewrite build tooling spec. Replace Vite React config with
      SvelteKit + Deno adapter setup. Update linting (eslint-plugin-svelte),
      formatting (Prettier with svelte plugin), and TypeScript config
      for SvelteKit conventions.
    priority: medium
    tags: [spec, dx]
    created: 2026-02-15
    links:
      - specs/frontend-build-tooling.md
      - specs/tech-stack-overview.md

  - id: D-5
    completed: 2026-02-15
    title: "Convert frontend-components.md — React to Svelte 5 + shadcn-svelte"
    description: |
      Rewrite components spec. Replace React component taxonomy with
      Svelte 5 components using shadcn-svelte and bits-ui primitives.
      Define component hierarchy: primitives, containers, views.
      Use Svelte 5 runes ($state, $derived, $effect) throughout.
    priority: high
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-components.md
      - specs/tech-frontend-ui.md

  - id: D-6
    completed: 2026-02-15
    title: "Convert frontend-dialogs.md — NiceModal to bits-ui dialogs"
    description: |
      Rewrite dialogs spec. Replace NiceModal framework with bits-ui
      dialog/alert-dialog/sheet primitives wrapped by shadcn-svelte.
      Define patterns for modal management in Svelte 5.
    priority: medium
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-dialogs.md
      - specs/tech-frontend-ui.md

  - id: D-7
    completed: 2026-02-15
    title: "Convert frontend-pages.md — React pages to SvelteKit routes"
    description: |
      Rewrite pages spec. Replace React page components with SvelteKit
      route modules (+page.svelte, +page.server.ts, +layout.svelte).
      Map each page to its SvelteKit equivalent with load functions.
    priority: high
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-pages.md

  - id: D-8
    completed: 2026-02-15
    title: "Convert frontend-state-data.md — Zustand/React Query to Svelte stores"
    description: |
      Rewrite state management spec. Replace Zustand stores with Svelte
      runes and $state. Replace React Query with SvelteKit load functions
      and form actions. Define patterns for global state, server state,
      and reactive derived data using Svelte 5 primitives.
    priority: high
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-state-data.md

  - id: D-9
    completed: 2026-02-15
    title: "Convert board-management.md to SvelteKit implementation patterns"
    description: |
      Rewrite board management spec with SvelteKit patterns: server-side
      load functions, form actions for CRUD, Drizzle queries, and Svelte 5
      component patterns. Keep feature requirements, update code patterns.
    priority: high
    tags: [spec, frontend, backend]
    created: 2026-02-15
    links:
      - specs/board-management.md

  - id: D-10
    completed: 2026-02-15
    title: "Convert columns.md to SvelteKit implementation patterns"
    description: |
      Rewrite columns spec with SvelteKit patterns. CRUD via form actions,
      reorder via API endpoint, WIP limits as reactive derived state.
    priority: high
    tags: [spec, frontend, backend]
    created: 2026-02-15
    links:
      - specs/columns.md

  - id: D-11
    completed: 2026-02-15
    title: "Convert cards.md to SvelteKit implementation patterns"
    description: |
      Rewrite cards spec with SvelteKit patterns. Card CRUD via form
      actions, detail overlay as a route parameter or modal, rich text
      description editing.
    priority: high
    tags: [spec, frontend, backend]
    created: 2026-02-15
    links:
      - specs/cards.md

  - id: D-12
    completed: 2026-02-15
    title: "Convert drag-and-drop.md to SvelteKit implementation patterns"
    description: |
      Rewrite drag-and-drop spec with Svelte 5 patterns. Evaluate
      svelte-dnd-action or native drag API with Svelte actions.
      Visual feedback, keyboard alternative, accessibility.
    priority: high
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/drag-and-drop.md

  - id: D-13
    completed: 2026-02-15
    title: "Convert due-dates.md to SvelteKit implementation patterns"
    description: |
      Rewrite due dates spec with SvelteKit patterns. Date picker via
      bits-ui, urgency indicators as derived state, optional sorting.
    priority: medium
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/due-dates.md

  - id: D-14
    completed: 2026-02-15
    title: "Convert labels.md to SvelteKit implementation patterns"
    description: |
      Rewrite labels spec with SvelteKit patterns. Label CRUD via form
      actions, multi-label assignment, filtering with OR logic.
    priority: medium
    tags: [spec, frontend, backend]
    created: 2026-02-15
    links:
      - specs/labels.md

  - id: D-15
    completed: 2026-02-15
    title: "Convert user-assignment.md to SvelteKit implementation patterns"
    description: |
      Rewrite user assignment spec with SvelteKit patterns. User picker
      component, avatar display, self-assignment shortcut.
    priority: medium
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/user-assignment.md

  - id: D-16
    completed: 2026-02-15
    title: "Convert comments.md to SvelteKit implementation patterns"
    description: |
      Rewrite comments spec with SvelteKit patterns. Comment CRUD via
      form actions, rich text support, chronological display.
    priority: medium
    tags: [spec, frontend, backend]
    created: 2026-02-15
    links:
      - specs/comments.md

  - id: D-17
    completed: 2026-02-15
    title: "Convert search-and-filter.md to SvelteKit implementation patterns"
    description: |
      Rewrite search/filter spec with SvelteKit patterns. URL-based
      filter state via searchParams, server-side filtering in load
      functions, reactive filter UI with Svelte 5 runes.
    priority: medium
    tags: [spec, frontend, backend]
    created: 2026-02-15
    links:
      - specs/search-and-filter.md

  - id: D-18
    completed: 2026-02-15
    title: "Convert activity-log.md to SvelteKit implementation patterns"
    description: |
      Rewrite activity log spec with SvelteKit patterns. Audit trail
      via database triggers or application-level logging, display as
      timeline component.
    priority: low
    tags: [spec, frontend, backend]
    created: 2026-02-15
    links:
      - specs/activity-log.md

  - id: D-19
    completed: 2026-02-15
    title: "Convert frontend-i18n-analytics.md to SvelteKit patterns"
    description: |
      Rewrite the i18n and analytics spec from i18next + PostHog React
      patterns to SvelteKit equivalents. Evaluate paraglide-js or
      similar Svelte-native i18n. Keep analytics approach generic.
    priority: low
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-i18n-analytics.md

  - id: D-20
    completed: 2026-02-15
    started: 2026-02-15
    title: "Convert frontend-editor-diff.md to SvelteKit patterns"
    description: |
      Rewrite the rich-text editor and diff viewer spec. Replace Lexical
      React with a Svelte-compatible editor (TipTap, ProseMirror, or
      svelte-lexical if mature). Adapt diff viewer approach.
    priority: low
    tags: [spec, frontend]
    created: 2026-02-15
    links:
      - specs/frontend-editor-diff.md

  - id: D-21
    completed: 2026-02-16
    title: Scaffold SvelteKit project from Deno starter
    description: |
      Initialize the project using https://github.com/denoland/tutorial-with-svelte as a base. Set up deno.json (tasks, import maps), svelte.config.js, vite.config.ts, tsconfig.json, app.html, and app.css. Strip out tutorial-specific code but keep the Deno+SvelteKit wiring. Install core deps: tailwindcss 4, @tailwindcss/vite, svelte 5, typescript.
    priority: high
    tags: [infra, dx]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Clone/adapt deno starter template
        done: false
      - text: "Configure deno.json with tasks (dev, build, preview, db:*)"
        done: false
      - text: Set up svelte.config.js with Deno adapter
        done: false
      - text: Set up vite.config.ts with Tailwind + Svelte plugins
        done: false
      - text: Create tsconfig.json (strict mode)
        done: false
      - text: Create app.html shell and app.css with Tailwind imports
        done: false
    links:
      - specs/tech-stack-overview.md
      - specs/frontend-build-tooling.md
      - https://github.com/denoland/tutorial-with-svelte

  - id: D-22
    completed: 2026-02-16
    started: 2026-02-16
    title: "Set up shadcn-svelte, Tailwind theme, and cn() utility"
    description: |
      Initialize shadcn-svelte (components.json, registry). Create the cn() utility in src/lib/utils.ts (clsx + tailwind-merge). Set up global CSS with Tailwind CSS 4 design tokens and dark mode variables. Install: shadcn-svelte, bits-ui, tailwind-merge, tailwind-variants, clsx, tw-animate-css, mode-watcher, @lucide/svelte.
    priority: high
    tags: [frontend, dx]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Run shadcn-svelte init, configure components.json"
        done: false
      - text: Create src/lib/utils.ts with cn() helper
        done: false
      - text: Set up app.css with Tailwind CSS 4 tokens and dark mode vars
        done: false
      - text: Install icon and animation packages
        done: false
    links:
      - specs/tech-frontend-ui.md
      - specs/frontend-styling.md

  - id: D-23
    completed: 2026-02-16
    started: 2026-02-16
    title: "Set up Drizzle ORM, database schemas, and connection"
    description: |
      Configure Drizzle ORM with PostgreSQL. Create drizzle.config.ts, the DB connection module (src/lib/db/index.ts), and all domain schema files: boards, columns, cards, labels, card-labels, comments, activity-log, users. Define relations between tables. Wire up db:generate/migrate/push/studio tasks in deno.json.
    priority: high
    tags: [backend, infra]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Install drizzle-orm, drizzle-kit, postgres driver"
        done: false
      - text: Create drizzle.config.ts
        done: false
      - text: Create src/lib/db/index.ts connection module
        done: false
      - text: "Create schema files: boards, columns, cards, labels, card-labels, comments, activity-log, users"
        done: false
      - text: Define all relations
        done: false
      - text: Generate and test initial migration
        done: false
    links:
      - specs/tech-database.md
      - specs/board-management.md
      - specs/columns.md
      - specs/cards.md
      - specs/labels.md
      - specs/comments.md
      - specs/activity-log.md

  - id: D-24
    completed: 2026-02-16
    title: "Create root layout, app shell, and Zod validation schemas"
    description: |
      Build the root +layout.svelte with ModeWatcher, Toaster (svelte-sonner), and a basic navigation shell. Create the (app) layout group. Set up all Zod validation schemas in src/lib/schemas/ (board, card, column, label, comment). Install sveltekit-superforms, formsnap, zod.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Create src/routes/+layout.svelte with ModeWatcher + Toaster
        done: false
      - text: Create src/routes/(app)/+layout.svelte for board chrome
        done: false
      - text: "Create Zod schemas: board.ts, card.ts, column.ts, label.ts, comment.ts"
        done: false
      - text: "Install sveltekit-superforms, formsnap, zod"
        done: false
    links:
      - specs/frontend-overview.md
      - specs/frontend-routing.md
      - specs/frontend-components.md
      - specs/board-management.md
      - specs/cards.md
      - specs/columns.md

  - id: D-25
    completed: 2026-02-16
    started: 2026-02-16
    title: "Build app shell navigation: sidebar and navbar components"
    description: |
      The (app) layout group exists but has placeholder markup. Build the Sidebar component (board list navigation, theme toggle, new board link) and Navbar component (breadcrumbs, board name, settings link). Install shadcn-svelte sidebar and sheet components if needed. Wire up to the (app)/+layout.svelte.
    priority: high
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Create src/lib/components/layout/Sidebar.svelte with board list and theme toggle
        done: false
      - text: Create src/lib/components/layout/Navbar.svelte with breadcrumbs and board actions
        done: false
      - text: "Install required shadcn-svelte components (sidebar, sheet, separator, etc.)"
        done: false
      - text: Wire sidebar and navbar into src/routes/(app)/+layout.svelte
        done: false
    links:
      - specs/frontend-overview.md
      - specs/frontend-components.md
      - specs/frontend-routing.md

  - id: D-26
    completed: 2026-02-16
    title: Board page with columns and card list
    description: |
      Build the main board view at /boards/[boardId]. Server load function fetches board with columns and cards (ordered by position). Render columns in a horizontal scrollable layout. Each column shows its header (name, card count, WIP indicator), card list, and an Add Card footer. Include Add Column button at the end. This is the core kanban view.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Create src/routes/(app)/boards/[boardId]/+page.server.ts (load board + columns + cards, card/column form actions)"
        done: false
      - text: "Create src/routes/(app)/boards/[boardId]/+page.svelte (board view)"
        done: false
      - text: "Create Column.svelte, ColumnHeader.svelte, ColumnFooter.svelte"
        done: false
      - text: Create CardItem.svelte (compact card in column)
        done: false
      - text: Create AddCard.svelte (inline form)
        done: false
      - text: Create AddColumn.svelte (inline form)
        done: false
    links:
      - specs/columns.md
      - specs/cards.md
      - specs/frontend-pages.md
      - specs/frontend-components.md

  - id: D-27
    completed: 2026-02-16
    started: 2026-02-16
    title: "Board management: listing, create, and settings pages"
    description: |
      Implement board CRUD. Root page lists boards (or redirects if only one). Create board page with form action that seeds default columns. Board settings page with rename, description, favorite toggle, and delete (with AlertDialog confirmation). This is the first real feature — proves the full stack works end-to-end.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Create src/routes/+page.server.ts (board listing load)
        done: false
      - text: Create src/routes/+page.svelte (board listing UI)
        done: false
      - text: Create src/routes/(app)/boards/new/ (create board form + action)
        done: false
      - text: "Create src/routes/(app)/boards/[boardId]/settings/ (rename, delete, favorite)"
        done: false
      - text: Create BoardCard.svelte component
        done: false
    links:
      - specs/board-management.md
      - specs/frontend-pages.md

  - id: D-28
    completed: 2026-02-16
    title: Add root landing page with board list or single-board redirect
    description: |
      The root page (src/routes/+page.svelte) is still a placeholder. It should load all boards and either redirect to the single board if there's only one, or show a board listing page. This page lives outside the (app) layout group since it doesn't need the sidebar. Implement the +page.server.ts load function and the board listing UI with links to each board and a 'Create Board' CTA.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Create src/routes/+page.server.ts with board listing load and redirect logic
        done: false
      - text: Build board listing UI in src/routes/+page.svelte
        done: false
      - text: Handle empty state (no boards yet) with CTA to create first board
        done: false
    links:
      - specs/frontend-pages.md
      - specs/board-management.md

  - id: D-29
    completed: 2026-02-16
    started: 2026-02-16
    title: "Install missing shadcn-svelte UI components (dropdown-menu, select, textarea, popover, dialog)"
    description: |
      Several specs reference shadcn-svelte components that aren't installed yet. The ColumnHeader needs dropdown-menu for its action menu (rename, set WIP limit, delete). The DeleteColumnDialog needs select for move-cards-to picker. CardDetail needs textarea for description editing. Install these via the shadcn-svelte CLI: npx shadcn-svelte@next add dropdown-menu select textarea popover. This unblocks column action menus, card detail editing, and delete column dialog with card migration.
    priority: high
    tags: [frontend, dx]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Install dropdown-menu component
        done: false
      - text: Install select component
        done: false
      - text: Install textarea component
        done: false
      - text: Install popover component
        done: false
      - text: Add DropdownMenu to ColumnHeader for rename/WIP/delete actions
        done: false
      - text: Verify all components render correctly
        done: false
    links:
      - specs/columns.md
      - specs/cards.md
      - specs/frontend-components.md

  - id: D-30
    completed: 2026-02-16
    started: 2026-02-16
    title: Implement card create and delete actions on the board page
    description: |
      The board page shows cards but has no inline card creation or deletion yet. Now that dialog and alert-dialog components are installed, build the AddCard inline form in column footers and the DeleteCardDialog confirmation. Wire up createCard and deleteCard form actions in the board page's +page.server.ts per specs/cards.md.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Build AddCard inline form component in column footer
        done: false
      - text: Build DeleteCardDialog with AlertDialog confirmation
        done: false
      - text: Wire up createCard and deleteCard form actions
        done: false
      - text: Test card create and delete flows
        done: false
    links:
      - specs/cards.md
      - specs/frontend-components.md

  - id: D-31
    completed: 2026-02-16
    started: 2026-02-16
    title: "Implement column CRUD actions: create, rename, delete with card migration"
    description: |
      The board page (D-26) renders columns but has no column management actions yet. Now that dropdown-menu, select, and alert-dialog are installed (P-1), build out the ColumnHeader action menu with rename inline editing, WIP limit setter, and delete flow. The DeleteColumnDialog should use Select to let users move cards to another column before deletion. Implement the form actions in +page.server.ts per specs/columns.md. Also build AddColumn inline form at the end of the board.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Build ColumnHeader dropdown menu (rename, set WIP limit, delete)"
        done: false
      - text: Implement AddColumn inline form component
        done: false
      - text: Build DeleteColumnDialog with card migration Select picker
        done: false
      - text: "Wire up createColumn, renameColumn, updateWipLimit, deleteColumn form actions"
        done: false
      - text: Test column CRUD end-to-end
        done: false
    links:
      - specs/columns.md
      - specs/frontend-components.md

  - id: D-32
    completed: 2026-02-16
    started: 2026-02-16
    title: Add toast notifications for board CRUD actions
    description: |
      Board settings actions (rename, update description, toggle favorite) complete silently with no user feedback. Add svelte-sonner toast notifications to confirm success: 'Board renamed', 'Description updated', 'Added to favorites', etc. Also add error toasts for failed actions. The Toaster component is already in the root layout.
    priority: medium
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Add success toasts to settings page form onResult callbacks
        done: false
      - text: Add error toast handling for failed mutations
        done: false
    links:
      - specs/board-management.md

  - id: D-33
    completed: 2026-02-16
    title: Build card detail page with view/edit UI
    description: |
      The card detail page route (boards/[boardId]/cards/[cardId]) doesn't exist yet. Build the +page.server.ts load function and +page.svelte with CardDetail component. Should load card with labels and comments, support inline title editing, description editing with Textarea, and show a Delete button that opens DeleteCardDialog. Specs describe this in cards.md.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Create card detail route directory and +page.server.ts
        done: false
      - text: Build CardDetail component with editable title and description
        done: false
      - text: Wire up delete button to DeleteCardDialog
        done: false
      - text: Add update form action for card fields
        done: false
    links:
      - specs/cards.md
      - specs/frontend-pages.md

  - id: D-34
    completed: 2026-02-16
    title: Card detail view and update actions
    description: |
      Build the card detail page at /boards/[boardId]/cards/[cardId]. Load card with labels and comments. Editable title (double-click to edit), description textarea with save, and delete button with AlertDialog. This is a separate page/route, not a modal (modal can come later).
    priority: medium
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Create src/routes/(app)/boards/[boardId]/cards/[cardId]/+page.server.ts (load card, update action)"
        done: false
      - text: "Create src/routes/(app)/boards/[boardId]/cards/[cardId]/+page.svelte"
        done: false
      - text: Create CardDetail.svelte component
        done: false
      - text: Create DeleteCardDialog.svelte component
        done: false
    links:
      - specs/cards.md
      - specs/frontend-dialogs.md

  - id: D-35
    completed: 2026-02-16
    title: Implement drag-and-drop reordering for columns and cards
    description: |
      The board supports columns and cards but has no drag-and-drop reordering yet. The grip handles are rendered in ColumnHeader and there is a planned reorder API endpoint (columns/reorder/+server.ts) in the columns spec. Implement: (1) the reorder JSON API endpoint for columns, (2) a similar reorder endpoint for cards across columns, (3) client-side drag-and-drop using svelte-dnd-action or native drag events. See specs/drag-and-drop.md and specs/columns.md for the reorder schema and endpoint design.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Create column reorder PUT endpoint at boards/[boardId]/columns/reorder/+server.ts"
        done: false
      - text: Create card reorder/move PUT endpoint
        done: false
      - text: Add drag-and-drop library or native drag implementation
        done: false
      - text: Wire up column drag handles to reorder API
        done: false
      - text: Wire up card drag to move/reorder API
        done: false
    links:
      - specs/columns.md
      - specs/drag-and-drop.md

  - id: D-36
    completed: 2026-02-16
    title: "Add \"Move to\" dialog for card context menu"
    description: |
      Add a MoveCardDialog component that lets users move a card to another column via a dropdown picker in the card context menu. This provides a non-drag alternative for accessibility and quick moves. The moveCard form action already exists. See specs/drag-and-drop.md for the planned component pattern.
    priority: medium
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Create MoveCardDialog.svelte with column select picker
        done: false
      - text: "Add 'Move to' option in CardItem dropdown menu"
        done: false
      - text: Pass available columns to CardItem from Column component
        done: false
    links:
      - specs/drag-and-drop.md
      - specs/cards.md

  - id: D-37
    completed: 2026-02-16
    started: 2026-02-16
    title: Add loading states to form submit buttons
    description: |
      Form buttons (rename, save description, add column, add card, delete, etc.) don't show any loading indicator during submission. Use superForm's `$submitting` store and SvelteKit enhance callbacks to disable buttons and show a spinner or 'Saving...' text while the action is in flight. This prevents double-submits and gives clear feedback that the action is processing.
    priority: low
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Add submitting state to superForm instances (settings, add column, add card)"
        done: false
      - text: "Add submitting state to plain enhance forms (favorite toggle, delete forms)"
        done: false
      - text: Show spinner or disabled state on submit buttons while submitting
        done: false
    links:
      - specs/board-management.md
      - specs/columns.md
      - specs/cards.md

  - id: D-38
    completed: 2026-02-16
    started: 2026-02-16
    title: Fix column rename blur/submit race condition
    description: |
      In ColumnHeader.svelte, when the user presses Enter to submit a rename, handleKeydown calls form.requestSubmit() but the subsequent blur event fires onblur which resets editName back to the original column.name and sets editing=false. This means the form may submit the old name instead of the edited name, or the rename appears to not work. Fix: differentiate between intentional blur (user clicked away, should cancel) and blur caused by submit (should not reset). One approach: set a flag before requestSubmit() and check it in onblur.
    priority: medium
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Add a submitting flag that prevents onblur from resetting the name
        done: false
      - text: Verify rename works correctly via both Enter and blur-away
        done: false
    links:
      - specs/columns.md

  - id: D-39
    completed: 2026-02-16
    started: 2026-02-16
    title: Fix CardDetail title edit double-submit on Enter
    description: |
      In CardDetail.svelte, pressing Enter to save the title calls handleTitleBlur() from the keydown handler, which calls requestSubmit(). Then the input loses focus and the onblur handler fires handleTitleBlur() again, causing a second requestSubmit(). Fix: add a submitting guard flag (similar to the ColumnHeader rename fix in P-1/D-38) so the form only submits once. The blur after an Enter-triggered submit should be a no-op.
    priority: medium
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Add a submitting flag to prevent double-submit
        done: false
      - text: Ensure blur after Enter submit is a no-op
        done: false
    links:
      - specs/cards.md

  - id: D-40
    completed: 2026-02-16
    started: 2026-02-16
    title: "Add 'Move to column' action to CardDetail page"
    description: |
      The MoveCardDialog is currently only accessible from the CardItem dropdown on the board view. Add it to the CardDetail page as well, so users can move a card to another column from the detail view. This requires loading the board's columns in the card detail page server load function and passing them to CardDetail. Add a 'Move to' button or dropdown in the card detail sidebar/metadata area.
    priority: medium
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Load board columns in card detail +page.server.ts
        done: false
      - text: Pass columns to CardDetail component
        done: false
      - text: Add MoveCardDialog trigger in CardDetail UI
        done: false
    links:
      - specs/cards.md
      - specs/drag-and-drop.md

  - id: D-41
    completed: 2026-02-16
    title: Implement comment CRUD on CardDetail page
    description: |
      The comments spec (specs/comments.md) defines full comment CRUD: create, edit, delete with author-only permissions. Currently the CardDetail page only displays comments read-only. Implement the createComment, updateComment, and deleteComment form actions on the card detail +page.server.ts, create CommentItem and CommentList components per the spec, and integrate into CardDetail. Requires auth/user context (locals.user) which may need to be set up first.
    priority: high
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Create comment validation schemas (createCommentSchema, updateCommentSchema, deleteCommentSchema)"
        done: false
      - text: "Add createComment, updateComment, deleteComment form actions to card detail +page.server.ts"
        done: false
      - text: Create CommentItem component with edit/delete controls
        done: false
      - text: Create CommentList component with new comment form
        done: false
      - text: Replace read-only comments section in CardDetail with CommentList
        done: false
    links:
      - specs/comments.md
      - specs/cards.md

  - id: D-42
    completed: 2026-02-17
    title: Include comment counts in board page card query
    description: |
      The board page load function (src/routes/(app)/boards/[boardId]/+page.server.ts) fetches cards with cardLabels but not comments. CardItem.svelte already renders a comment count indicator, but card.comments is always undefined at the board level. Either include a lightweight comments query (just IDs) or use a SQL count subquery to efficiently provide comment counts without loading full comment data.
    priority: medium
    tags: [frontend, backend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Add comment count to board page card query
        done: false
      - text: Verify CardItem comment count indicator displays correctly
        done: false
    links:
      - specs/comments.md
      - specs/cards.md

  - id: D-43
    completed: 2026-02-17
    title: Add Markdown support for card descriptions
    description: |
      The cards spec requires "Description supports rich text (bold, italic, lists, links)" but the current implementation uses a plain <textarea>. Add Markdown rendering for card descriptions: store descriptions as Markdown text, render them with a Markdown library (e.g. marked or markdown-it) in read mode, and keep the plain textarea for editing. This avoids the complexity of a full WYSIWYG editor while fulfilling the rich text requirement. No schema changes needed since Markdown is plain text.
    priority: medium
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Install a Markdown rendering library (e.g. marked, markdown-it, or mdsvex)"
        done: false
      - text: Add Markdown preview rendering in CardDetail description section
        done: false
      - text: Add edit/preview toggle for description editing
        done: false
      - text: Sanitize rendered HTML to prevent XSS
        done: false
      - text: Update cards.md spec to reflect Markdown approach instead of generic rich text
        done: false
    links:
      - specs/cards.md

  - id: D-44
    completed: 2026-02-17
    title: Create database seed script with sample data
    description: |
      Create a seed script (scripts/seed.ts) that populates the database with sample data for local development: a demo board with columns, sample cards with labels and comments, and a test user. Run via 'deno task db:seed'. This enables frontend development against realistic data without manual setup.
    priority: medium
    tags: [backend, dx]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Create scripts/seed.ts with sample boards, columns, cards, labels, comments, and a test user"
        done: false
      - text: "Add db:seed task to deno.json"
        done: false
      - text: Verify seed populates database correctly
        done: false
    links:
      - specs/tech-database.md

  - id: D-45
    completed: 2026-02-17
    title: Fix CardDetail form error display type errors
    description: |
      CardDetail.svelte has two svelte-check type errors where `$formErrors.title[0]` and `$formErrors.description[0]` index into a potentially undefined array. The `{#if $formErrors.title}` conditional should narrow the type, but svelte-check doesn't recognize it. Fix by using optional chaining (`$formErrors.title?.[0]`) or a different pattern that satisfies TypeScript's type narrowing within Svelte templates.
    priority: low
    tags: [frontend, dx]
    assignee: ""
    created: 2026-02-17
    subtasks:
      - text: "Fix $formErrors.title[0] type error around line 196"
        done: false
      - text: "Fix $formErrors.description[0] type error around line 229"
        done: false
    links:
      - specs/cards.md

  - id: D-46
    completed: 2026-02-17
    started: 2026-02-17
    title: Fix state_referenced_locally warnings in form components
    description: |
      10 Svelte 5 warnings for `state_referenced_locally` across AddCard, CardDetail, AddColumn, ColumnHeader, Column, board page, settings page, and new board page. These occur when $props() values are passed to superForm() or used in derived expressions at the top level of the script. Fix by wrapping in closures or using $derived where Svelte suggests.
    priority: low
    tags: [frontend, dx]
    assignee: ""
    created: 2026-02-17
    subtasks:
      - text: Fix AddCard.svelte formData warning
        done: false
      - text: Fix CardDetail.svelte updateForm warning
        done: false
      - text: Fix AddColumn.svelte formData warning
        done: false
      - text: Fix ColumnHeader.svelte column warning
        done: false
      - text: Fix Column.svelte column warnings (2)
        done: false
      - text: "Fix boards/[boardId]/+page.svelte data warning"
        done: false
      - text: "Fix boards/[boardId]/settings/+page.svelte data warnings (2)"
        done: false
      - text: Fix boards/new/+page.svelte data warning
        done: false
    links:
      - specs/cards.md
      - specs/columns.md

  - id: D-47
    completed: 2026-02-17
    title: Create shared TypeScript types for domain models
    description: |
      The codebase has no $lib/types directory or shared type exports. Multiple components use inline type annotations for Card, Column, Board, etc. Create $lib/types/index.ts with exported types inferred from Drizzle schema (using typeof db.query.X.findFirst return types or manual interfaces). This will reduce duplication and make component props cleaner. Several specs reference 'import type { Card } from $lib/types' which doesn't exist yet.
    priority: medium
    tags: [frontend, dx]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Create $lib/types/index.ts with Card, Column, Board types"
        done: false
      - text: Update components to use shared types instead of inline annotations
        done: false
    links:
      - specs/frontend-components.md
      - specs/cards.md

  - id: D-48
    completed: 2026-02-17
    title: "Fix svelte-check by adding @types/node and excluding node_modules type errors"
    description: |
      Running 'deno task check' (svelte-check) reports 43 errors, all from node_modules (vite, @sveltejs/kit, svelte-toolbelt). These are caused by missing @types/node and missing csstype type definitions. Install @types/node as a devDependency and configure tsconfig.json to skip library checking (skipLibCheck) or exclude node_modules from svelte-check. This was discovered while implementing B-5 (shadcn-svelte setup). Related to B-11 which covers CI-readiness of svelte-check.
    priority: medium
    tags: [dx, infra]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: "Install @types/node as devDependency"
        done: false
      - text: Evaluate skipLibCheck vs explicit excludes in tsconfig.json
        done: false
      - text: Verify svelte-check passes with zero errors on src/ files
        done: false
    links:
      - specs/frontend-build-tooling.md

  - id: D-49
    completed: 2026-02-17
    title: Add board list page types and typed server load returns
    description: |
      The board list page (src/routes/+page.server.ts) and board settings page return data without typed helpers. Add BoardSummary type to $lib/types for the boards list view (id, name, description, isFavorite, column count, card count). Consider adding satisfies or explicit return types to server load functions so PageData is fully typed end-to-end. This follows up on B-23 (shared types).
    priority: low
    tags: [frontend, dx]
    assignee: ""
    created: 2026-02-17
    subtasks:
      - text: Add BoardSummary type for board list page data
        done: false
      - text: Add explicit return types or satisfies to key server load functions
        done: false
    links:
      - src/lib/types/index.ts
      - specs/frontend-components.md

  - id: D-50
    completed: 2026-02-17
    title: Create label colors utility and shared constants
    description: |
      The specs reference src/lib/utils/label-colors.ts with a LABEL_COLORS constant (10 predefined colors with name and hex value) and a LabelColor type. This utility is needed by the label management UI (LabelManager, LabelPicker). Create the file as specified.
    priority: low
    tags: [frontend]
    assignee: ""
    created: 2026-02-16
    subtasks:
      - text: Create src/lib/utils/label-colors.ts with LABEL_COLORS array and LabelColor type
        done: false
    links:
      - specs/labels.md



















































archive:
